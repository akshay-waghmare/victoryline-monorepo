# ====================================
# VictoryLine Test Environment (Local Built Images)
# ====================================
# Testing 004-scraper-resilience branch with production compose

# ====================================
# Docker Images - Using Local Builds
# ====================================
BACKEND_IMAGE=macubex/victoryline-backend:v1.0.0
SCRAPER_IMAGE=victoryline-monorepo-scraper:latest
FRONTEND_IMAGE=macubex/victoryline-frontend:v1.0.0
PRERENDER_IMAGE=macubex/victoryline-prerender:v1.0.0

# ====================================
# Backend (Spring Boot) Configuration
# ====================================
BACKEND_PORT=8099
SPRING_PROFILES_ACTIVE=prod
SPRING_DATASOURCE_USERNAME=sa
SPRING_DATASOURCE_PASSWORD=
SPRING_DATASOURCE_URL=jdbc:h2:file:/app/data/victoryline;DB_CLOSE_ON_EXIT=FALSE
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.h2.Driver
SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.H2Dialect
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_H2_CONSOLE_ENABLED=true
SPRING_H2_CONSOLE_PATH=/h2-console
SHOW_SQL=false

# JWT Configuration
JWT_SECRET=VictoryLineJWT2025SecureKeyForAuthenticationAndAuthorization!@#$
JWT_EXPIRATION=86400

# ====================================
# Frontend Configuration
# ====================================
FRONTEND_PORT=80
API_URL=http://backend:8099

# ====================================
# Scraper Configuration (NEW FEATURES!)
# ====================================
SCRAPER_PORT=5000
TOKEN_URL=http://backend:8099/token/generate-token
SERVICE_URL=http://backend:8099/cricket-data
ADD_LIVE_MATCHES_URL=http://backend:8099/cricket-data/add-live-matches
API_ENDPOINT=http://backend:8099/cricket-data/match-info/save
API_ENDPOINT_SC4=http://backend:8099/cricket-data/sC4-stats/save
FLASK_ENV=production
FLASK_DEBUG=0
PLAYWRIGHT_HEADLESS=true

# Resilience Features (004-scraper-resilience)
SCRAPER_MAX_LIFETIME_HOURS=24
MEMORY_SOFT_LIMIT_MB=1536
MEMORY_HARD_LIMIT_MB=2048
POLLING_INTERVAL_SECONDS=2.5
POLLING_MIN_SECONDS=2
POLLING_BREAK_SECONDS=30
PAGE_TIMEOUT_SECONDS=30
ENABLE_PROMETHEUS_METRICS=true
PROMETHEUS_PORT=9090

# ====================================
# Prerender Configuration
# ====================================
PRERENDER_PORT=9100
